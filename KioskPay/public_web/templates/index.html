<!-- templates --> 

<!DOCTYPE html>
<html lang="es">


  <head>
    <meta charset="UTF-8" />    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/styles.css" />
    <script src="/static/script.js" type="module"></script>

    <title>KioskPay</title>
    <link rel="icon" href="./img/logo_KioskPay.ico" type="image/x-icon">



    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gsX|tatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courgette&display=swap" rel="stylesheet">
  
  </head>


  <body>

    <header>

    </header>
  
    <main>
      <div class="container header-container">
        <h1>KioskPay</h1>
        <h2>PASARELA DE PAGO</h2>
        <p>KioskPay es un sistema de pasarela de pago diseñado para máquinas de quiosco de autoservicio. Facilita y agiliza las transacciones, ofreciendo una solución para el procesamiento de pagos en este entorno.</p>
      </div>
      
      <!-- Ventana de Mis Compras -->
      <div id="shoppingCartModal" class="modal">
        
        <!-- Contenido del Carito -->
        <div class="modal-content">

          <span class="close">&times;</span>
          <h2>Mis Compras</h2>

          <div class="tabs">
            <button class="tablink" onclick="openTab(event, 'Cart')">Contenido del Carrito</button>
            <button class="tablink" onclick="openTab(event, 'Billing')">Dirección de Facturación</button>
            <button class="tablink" onclick="openTab(event, 'Payment')">Método de Pago</button>
            <button class="tablink" onclick="openTab(event, 'Confirm')">Confirmar Pedido</button>
          </div>

          <div id="Cart" class="tabcontent">

            <br><br>
            <h3>DETALLES</h3>
            <table id="cartTable">
                <thead>
                    <tr>
                        <th>PRODUCTO</th>
                        <th>CANTIDAD</th>
                        <th>PRECIO UNITARIO</th>
                        <th>DESCUENTO</th>
                        <th>PRECIO FINAL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <p id="itemName">Nombre del Artículo</p>
                            <p id="itemDescription">Descripción</p>
                        </td>
                        <td>
                            <input type="number" value="1" min="1">
                        </td>
                        <td id="itemPrice">$0.00</td>
                        <td id="discountAmount">$0.00</td>
                        <td id="totalPrice">$0.00</td>
                    </tr>
              <!-- Repetir filas para más artículos -->
                </tbody>
            </table>

            <div class="promo-code">
                <input type="text" placeholder="Codigo Promocional" />
                <button class="apply-promo-btn">APLICAR</button>
            </div>
            <div class="checkout-controls">
                <span id="totalPriceDisplay">PRECIO FINAL: $0.00</span>
                <button class="next-step-btn" id="nextStepButton" data-next-tab="Billing">SIGUIENTE</button>
            </div>
          </div>          
          <!-- Contenido del carrito -->

        </div>

        <!-- Dirrecion de Facturacion -->
        <div id="Billing" class="tabcontent">
        
          <form id="billingForm" method="post">

            <h3>DATOS PARA LA FACTURA</h3>

            <label for="fullName">Nombre Completo:</label>
            <input type="text" id="fullName" name="fullName" required>
            
            <label for="ci">Cedula de Identidad:</label>
            <input type="text" id="ci" name="ci" required pattern="\d*" title="Por favor, ingresa solo números.">

            <label for="address">Dirección:</label>
            <input type="text" id="address" name="address" required>

            <label for="city">Ciudad:</label>
            <input type="text" id="city" name="city" required>

            <label for="country">País:</label>
            <input type="text" id="country" name="country" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Teléfono:</label>
            <input type="tel" id="phone" name="phone" required>

            <button type="button" id="sendButton">Enviar</button>
          </form>

        </div>
        
        <!-- Método de pago -->
        <div id="Payment" class="tabcontent">
                    
          <form id="paymentForm" method="post" action="/">
            <h3>SELECCIONA UNA OPCIÓN DE PAGO</h3>

            <button type="button" onclick="openURL()">
              <svg width="151" height="17" viewBox="0 0 151 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <<path d="M117.237 5.33816V9.4855C117.237 10.5531 116.861 11.4565 116.13 12.1546C115.419 12.8321 114.584 13.1812 113.602 13.1812C112.536 13.1812 111.617 12.8321 110.886 12.1135C110.154 11.4155 109.799 10.5531 109.799 9.52656V5.11231C109.799 4.74275 109.904 4.47584 110.112 4.27053C110.321 4.06521 110.572 3.96255 110.865 3.96255C111.157 3.96255 111.408 4.06521 111.596 4.24999C111.805 4.47584 111.909 4.76328 111.909 5.11231V9.5471C111.909 10.0193 112.056 10.4094 112.369 10.7174C112.682 11.0254 113.079 11.1896 113.56 11.1896C113.957 11.1896 114.312 11.0459 114.625 10.779C114.96 10.4505 115.127 10.0398 115.127 9.50603V5.11231C115.127 4.74275 115.231 4.47584 115.419 4.27053C115.628 4.06521 115.879 3.96255 116.171 3.96255C116.589 3.96255 116.903 4.12681 117.091 4.47584C117.195 4.64009 117.237 4.92753 117.237 5.33816Z" fill="#023365"></path><path d="M123.129 3.90097C123.965 3.90097 124.654 4.08575 125.239 4.43479C125.761 4.78382 126.033 5.15339 126.033 5.56401C126.033 5.89252 125.949 6.15942 125.761 6.34421C125.573 6.52899 125.364 6.61112 125.093 6.61112C124.946 6.61112 124.779 6.54952 124.612 6.42633C124.445 6.30314 124.278 6.17996 124.132 6.05677C123.756 5.76933 123.4 5.62561 123.087 5.62561C122.774 5.62561 122.523 5.70773 122.335 5.87199C122.126 6.03624 122.042 6.22102 122.042 6.44686C122.042 6.85749 122.418 7.14493 123.171 7.32971C124.341 7.61715 125.155 7.94566 125.636 8.33575C126.221 8.78744 126.513 9.44445 126.513 10.2862C126.513 11.128 126.2 11.8261 125.594 12.3804C124.988 12.9348 124.194 13.2017 123.254 13.2017C122.251 13.2017 121.416 12.9759 120.726 12.5036C120.099 12.0725 119.765 11.5797 119.765 11.0254C119.765 10.7585 119.849 10.5121 120.058 10.3273C120.246 10.122 120.475 10.0193 120.747 10.0193C121.081 10.0193 121.436 10.2041 121.854 10.5531C122.377 11.0048 122.857 11.2512 123.275 11.2512C123.609 11.2512 123.881 11.1486 124.09 10.9638C124.299 10.779 124.403 10.5326 124.403 10.2246C124.403 9.89614 124.215 9.64976 123.839 9.48551C123.714 9.42392 123.254 9.25967 122.418 9.03382C121.583 8.78744 120.998 8.52054 120.643 8.21256C120.204 7.843 119.995 7.30918 119.995 6.63165C119.995 5.83092 120.287 5.17392 120.872 4.68116C121.436 4.14735 122.189 3.90097 123.129 3.90097Z" fill="#023365"></path><path d="M131.005 5.11231V7.51449H134.411V5.11231C134.411 4.74275 134.515 4.47584 134.724 4.27053C134.933 4.06521 135.184 3.96255 135.497 3.96255C135.811 3.96255 136.062 4.06521 136.25 4.27053C136.458 4.47584 136.542 4.76328 136.542 5.11231V11.9903C136.542 12.3599 136.438 12.6268 136.229 12.8321C136.02 13.0374 135.769 13.1401 135.477 13.1401C135.184 13.1401 134.933 13.0374 134.724 12.8321C134.515 12.6268 134.411 12.3394 134.411 11.9698V9.40338H131.005V11.9698C131.005 12.3394 130.901 12.6063 130.692 12.8321C130.483 13.0374 130.232 13.1401 129.94 13.1401C129.647 13.1401 129.397 13.0374 129.188 12.8321C128.979 12.6268 128.874 12.3394 128.874 11.9903V5.11231C128.874 4.74275 128.979 4.47584 129.188 4.27053C129.397 4.06521 129.647 3.96255 129.94 3.96255C130.232 3.96255 130.483 4.06521 130.671 4.24999C130.901 4.45531 131.005 4.74275 131.005 5.11231Z" fill="#023365"></path><path d="M145.986 5.89252L143.353 8.41788L146.362 11.1486C146.759 11.5181 146.947 11.8466 146.947 12.1341C146.947 12.4215 146.842 12.6679 146.633 12.8527C146.424 13.0374 146.174 13.1401 145.881 13.1401C145.589 13.1401 145.275 12.9758 144.92 12.6473L141.41 9.40339V11.9903C141.41 12.3599 141.306 12.6268 141.097 12.8527C140.888 13.058 140.637 13.1606 140.345 13.1606C140.052 13.1606 139.801 13.058 139.592 12.8527C139.384 12.6473 139.279 12.3599 139.279 11.9903V5.09179C139.279 4.72223 139.384 4.43479 139.592 4.22947C139.801 4.02416 140.052 3.9215 140.345 3.9215C140.637 3.9215 140.888 4.02416 141.076 4.20894C141.285 4.43479 141.389 4.72223 141.389 5.09179V7.47343L144.461 4.43479C144.816 4.08575 145.15 3.90097 145.442 3.90097C145.735 3.90097 145.986 4.00363 146.174 4.18841C146.383 4.39372 146.466 4.61957 146.466 4.90701C146.529 5.21498 146.341 5.54348 145.986 5.89252Z" fill="#023365"></path><path d="M148.89 11.9903V5.11231C148.89 4.74275 148.994 4.47584 149.203 4.27053C149.412 4.06521 149.663 3.96255 149.955 3.96255C150.248 3.96255 150.499 4.06521 150.687 4.24999C150.896 4.47584 151 4.76328 151 5.11231V11.9903C151 12.3599 150.896 12.6268 150.687 12.8321C150.478 13.0374 150.227 13.1401 149.934 13.1401C149.642 13.1401 149.391 13.0374 149.182 12.8321C148.994 12.6268 148.89 12.3394 148.89 11.9903Z" fill="#023365"></path><path d="M99.5197 13.058C98.9347 13.058 98.4542 12.5857 98.4542 12.0109V5.09178C98.4542 4.5169 98.9347 4.04468 99.5197 4.04468C100.105 4.04468 100.585 4.5169 100.585 5.09178V12.0314C100.585 12.6063 100.105 13.058 99.5197 13.058Z" fill="#023365"></path><path d="M109.277 16.3841C109.005 16.3841 108.754 16.2814 108.546 16.0966L101.254 9.17754C100.836 8.78744 100.815 8.13044 101.212 7.71981L104.806 4.02416C105.203 3.61353 105.871 3.593 106.31 3.9831C106.728 4.37319 106.749 5.0302 106.352 5.46136L103.489 8.39735L110.029 14.5978C110.447 14.9879 110.468 15.6655 110.05 16.0761C109.841 16.2814 109.569 16.3841 109.277 16.3841Z" fill="#00E6B2"></path><path d="M93.5026 3.32609L86.8586 10.1014C86.5034 10.471 85.8975 10.471 85.5215 10.122L82.1159 6.93961C81.7398 6.59058 81.7189 5.97464 82.0741 5.60507C82.4293 5.23551 83.0352 5.21498 83.4322 5.56401L86.1483 8.1099L92.1863 1.97101C90.682 0.73913 88.7599 0 86.6497 0C81.8652 0 78 3.79831 78 8.5C78 13.2017 81.8652 17 86.6497 17C91.4342 17 95.2994 13.2017 95.2994 8.5C95.2994 6.54952 94.6308 4.76328 93.5026 3.32609ZM89.4911 12.5652H83.0979C82.5756 12.5652 82.1368 12.1341 82.1368 11.6208C82.1368 11.1075 82.5756 10.6763 83.0979 10.6763H89.4911C90.0135 10.6763 90.4522 11.1075 90.4522 11.6208C90.4522 12.1546 90.0343 12.5652 89.4911 12.5652Z" fill="#00E6B2"></path><path d="M1.032 13V4.624H6.264V5.824H2.388V8.152H5.832V9.352H2.388V13H1.032ZM11.2551 11.968H11.2071C11.1511 12.12 11.0751 12.268 10.9791 12.412C10.8911 12.556 10.7751 12.684 10.6311 12.796C10.4951 12.9 10.3271 12.984 10.1271 13.048C9.93506 13.112 9.71106 13.144 9.45506 13.144C8.80706 13.144 8.30306 12.936 7.94306 12.52C7.59106 12.104 7.41506 11.508 7.41506 10.732V6.76H8.72306V10.564C8.72306 11.532 9.12306 12.016 9.92306 12.016C10.0911 12.016 10.2551 11.996 10.4151 11.956C10.5751 11.908 10.7151 11.84 10.8351 11.752C10.9631 11.664 11.0631 11.552 11.1351 11.416C11.2151 11.28 11.2551 11.12 11.2551 10.936V6.76H12.5631V13H11.2551V11.968ZM14.436 13V6.76H15.744V7.792H15.804C15.94 7.456 16.144 7.176 16.416 6.952C16.696 6.728 17.076 6.616 17.556 6.616C18.196 6.616 18.692 6.828 19.044 7.252C19.404 7.668 19.584 8.264 19.584 9.04V13H18.276V9.208C18.276 8.232 17.884 7.744 17.1 7.744C16.932 7.744 16.764 7.768 16.596 7.816C16.436 7.856 16.292 7.92 16.164 8.008C16.036 8.096 15.932 8.208 15.852 8.344C15.78 8.48 15.744 8.64 15.744 8.824V13H14.436ZM23.8089 13.144C23.3609 13.144 22.9609 13.068 22.6089 12.916C22.2569 12.764 21.9609 12.548 21.7209 12.268C21.4809 11.98 21.2969 11.636 21.1689 11.236C21.0409 10.828 20.9769 10.376 20.9769 9.88C20.9769 9.384 21.0409 8.936 21.1689 8.536C21.2969 8.128 21.4809 7.784 21.7209 7.504C21.9609 7.216 22.2569 6.996 22.6089 6.844C22.9609 6.692 23.3609 6.616 23.8089 6.616C24.4329 6.616 24.9449 6.756 25.3449 7.036C25.7449 7.316 26.0369 7.688 26.2209 8.152L25.1409 8.656C25.0529 8.368 24.8969 8.14 24.6729 7.972C24.4569 7.796 24.1689 7.708 23.8089 7.708C23.3289 7.708 22.9649 7.86 22.7169 8.164C22.4769 8.46 22.3569 8.848 22.3569 9.328V10.444C22.3569 10.924 22.4769 11.316 22.7169 11.62C22.9649 11.916 23.3289 12.064 23.8089 12.064C24.1929 12.064 24.4969 11.972 24.7209 11.788C24.9529 11.596 25.1369 11.344 25.2729 11.032L26.2689 11.56C26.0609 12.072 25.7489 12.464 25.3329 12.736C24.9169 13.008 24.4089 13.144 23.8089 13.144ZM28.1741 5.644C27.9021 5.644 27.7021 5.58 27.5741 5.452C27.4541 5.324 27.3941 5.16 27.3941 4.96V4.756C27.3941 4.556 27.4541 4.392 27.5741 4.264C27.7021 4.136 27.9021 4.072 28.1741 4.072C28.4461 4.072 28.6421 4.136 28.7621 4.264C28.8821 4.392 28.9421 4.556 28.9421 4.756V4.96C28.9421 5.16 28.8821 5.324 28.7621 5.452C28.6421 5.58 28.4461 5.644 28.1741 5.644ZM27.5141 6.76H28.8221V13H27.5141V6.76ZM33.1379 13.144C32.7059 13.144 32.3099 13.068 31.9499 12.916C31.5979 12.764 31.2979 12.548 31.0499 12.268C30.8019 11.98 30.6099 11.636 30.4739 11.236C30.3379 10.828 30.2699 10.376 30.2699 9.88C30.2699 9.384 30.3379 8.936 30.4739 8.536C30.6099 8.128 30.8019 7.784 31.0499 7.504C31.2979 7.216 31.5979 6.996 31.9499 6.844C32.3099 6.692 32.7059 6.616 33.1379 6.616C33.5699 6.616 33.9619 6.692 34.3139 6.844C34.6739 6.996 34.9779 7.216 35.2259 7.504C35.4739 7.784 35.6659 8.128 35.8019 8.536C35.9379 8.936 36.0059 9.384 36.0059 9.88C36.0059 10.376 35.9379 10.828 35.8019 11.236C35.6659 11.636 35.4739 11.98 35.2259 12.268C34.9779 12.548 34.6739 12.764 34.3139 12.916C33.9619 13.068 33.5699 13.144 33.1379 13.144ZM33.1379 12.064C33.5859 12.064 33.9459 11.928 34.2179 11.656C34.4899 11.376 34.6259 10.96 34.6259 10.408V9.352C34.6259 8.8 34.4899 8.388 34.2179 8.116C33.9459 7.836 33.5859 7.696 33.1379 7.696C32.6899 7.696 32.3299 7.836 32.0579 8.116C31.7859 8.388 31.6499 8.8 31.6499 9.352V10.408C31.6499 10.96 31.7859 11.376 32.0579 11.656C32.3299 11.928 32.6899 12.064 33.1379 12.064ZM37.4633 13V6.76H38.7713V7.792H38.8313C38.9673 7.456 39.1713 7.176 39.4433 6.952C39.7233 6.728 40.1033 6.616 40.5833 6.616C41.2233 6.616 41.7193 6.828 42.0713 7.252C42.4313 7.668 42.6113 8.264 42.6113 9.04V13H41.3033V9.208C41.3033 8.232 40.9113 7.744 40.1273 7.744C39.9593 7.744 39.7913 7.768 39.6233 7.816C39.4633 7.856 39.3193 7.92 39.1913 8.008C39.0633 8.096 38.9593 8.208 38.8793 8.344C38.8073 8.48 38.7713 8.64 38.7713 8.824V13H37.4633ZM48.9963 13C48.6523 13 48.3883 12.904 48.2043 12.712C48.0203 12.512 47.9083 12.26 47.8683 11.956H47.8083C47.6883 12.348 47.4683 12.644 47.1483 12.844C46.8283 13.044 46.4403 13.144 45.9843 13.144C45.3363 13.144 44.8363 12.976 44.4843 12.64C44.1403 12.304 43.9683 11.852 43.9683 11.284C43.9683 10.66 44.1923 10.192 44.6403 9.88C45.0963 9.568 45.7603 9.412 46.6323 9.412H47.7603V8.884C47.7603 8.5 47.6563 8.204 47.4483 7.996C47.2403 7.788 46.9163 7.684 46.4763 7.684C46.1083 7.684 45.8083 7.764 45.5763 7.924C45.3443 8.084 45.1483 8.288 44.9883 8.536L44.2083 7.828C44.4163 7.476 44.7083 7.188 45.0843 6.964C45.4603 6.732 45.9523 6.616 46.5603 6.616C47.3683 6.616 47.9883 6.804 48.4203 7.18C48.8523 7.556 49.0683 8.096 49.0683 8.8V11.932H49.7283V13H48.9963ZM46.3563 12.148C46.7643 12.148 47.1003 12.06 47.3643 11.884C47.6283 11.7 47.7603 11.456 47.7603 11.152V10.252H46.6563C45.7523 10.252 45.3003 10.532 45.3003 11.092V11.308C45.3003 11.588 45.3923 11.8 45.5763 11.944C45.7683 12.08 46.0283 12.148 46.3563 12.148ZM56.2582 13.144C55.8102 13.144 55.4102 13.068 55.0582 12.916C54.7062 12.764 54.4102 12.548 54.1702 12.268C53.9302 11.98 53.7462 11.636 53.6182 11.236C53.4902 10.828 53.4262 10.376 53.4262 9.88C53.4262 9.384 53.4902 8.936 53.6182 8.536C53.7462 8.128 53.9302 7.784 54.1702 7.504C54.4102 7.216 54.7062 6.996 55.0582 6.844C55.4102 6.692 55.8102 6.616 56.2582 6.616C56.8822 6.616 57.3942 6.756 57.7942 7.036C58.1942 7.316 58.4862 7.688 58.6702 8.152L57.5902 8.656C57.5022 8.368 57.3462 8.14 57.1222 7.972C56.9062 7.796 56.6182 7.708 56.2582 7.708C55.7782 7.708 55.4142 7.86 55.1662 8.164C54.9262 8.46 54.8062 8.848 54.8062 9.328V10.444C54.8062 10.924 54.9262 11.316 55.1662 11.62C55.4142 11.916 55.7782 12.064 56.2582 12.064C56.6422 12.064 56.9462 11.972 57.1702 11.788C57.4022 11.596 57.5862 11.344 57.7222 11.032L58.7182 11.56C58.5102 12.072 58.1982 12.464 57.7822 12.736C57.3662 13.008 56.8582 13.144 56.2582 13.144ZM62.341 13.144C61.909 13.144 61.513 13.068 61.153 12.916C60.801 12.764 60.501 12.548 60.253 12.268C60.005 11.98 59.813 11.636 59.677 11.236C59.541 10.828 59.473 10.376 59.473 9.88C59.473 9.384 59.541 8.936 59.677 8.536C59.813 8.128 60.005 7.784 60.253 7.504C60.501 7.216 60.801 6.996 61.153 6.844C61.513 6.692 61.909 6.616 62.341 6.616C62.773 6.616 63.165 6.692 63.517 6.844C63.877 6.996 64.181 7.216 64.429 7.504C64.677 7.784 64.869 8.128 65.005 8.536C65.141 8.936 65.209 9.384 65.209 9.88C65.209 10.376 65.141 10.828 65.005 11.236C64.869 11.636 64.677 11.98 64.429 12.268C64.181 12.548 63.877 12.764 63.517 12.916C63.165 13.068 62.773 13.144 62.341 13.144ZM62.341 12.064C62.789 12.064 63.149 11.928 63.421 11.656C63.693 11.376 63.829 10.96 63.829 10.408V9.352C63.829 8.8 63.693 8.388 63.421 8.116C63.149 7.836 62.789 7.696 62.341 7.696C61.893 7.696 61.533 7.836 61.261 8.116C60.989 8.388 60.853 8.8 60.853 9.352V10.408C60.853 10.96 60.989 11.376 61.261 11.656C61.533 11.928 61.893 12.064 62.341 12.064ZM66.6665 13V6.76H67.9745V7.792H68.0345C68.1705 7.456 68.3745 7.176 68.6465 6.952C68.9265 6.728 69.3065 6.616 69.7865 6.616C70.4265 6.616 70.9225 6.828 71.2745 7.252C71.6345 7.668 71.8145 8.264 71.8145 9.04V13H70.5065V9.208C70.5065 8.232 70.1145 7.744 69.3305 7.744C69.1625 7.744 68.9945 7.768 68.8265 7.816C68.6665 7.856 68.5225 7.92 68.3945 8.008C68.2665 8.096 68.1625 8.208 68.0825 8.344C68.0105 8.48 67.9745 8.64 67.9745 8.824V13H66.6665Z" fill="#023365"></path></svg>

              </svg>
            </button>
          </form>

              <script>
              function openURL() {
                window.location.href = 'https://52p8hz.csb.app/';
              }
              </script>
          

        </div>

        <!-- Confirmar Pedido -->
        <div id="Confirm" class="tabcontent">
          <div class="center-content">

            <button class="finalize-purchase-btn">Finalizar Compra</button>

          </div>
          <!-- Confirmar pedido -->
        </div>

      </div>

      <!-- Cuerpo de porductos -->
      <div class="container products-container">
        
        <!-- Producto 1 -->
        <div class="product-card">          
          <img src="./img/producto1.jpg" alt="Producto 1 - Cereal">
          <div class="product-info">
            
            <h2>Producto 1 - Cereal</h2>
            <p>Descripción breve del producto...</p>
            <p class="price">$4.99</p>
            
            <button class="add-to-cart-btn" id="btnConfeti" data-producto-id="1">Agregar al carrito</button>                          
            <script src="JavaScript/script.js" type="module"></script>          

          </div>          
        </div>
        
        <!-- Producto 2 -->
        <div class="product-card">
          <img src="./img/producto2.jpg" alt="Producto 2 - Bebida">
          <div class="product-info">
            <h2>Producto 2 - Bebida</h2>
            <p>Descripción breve del producto...</p>
            <p class="price">$3.50</p>

            <button class="add-to-cart-btn" id="btnConfeti" data-producto-id="2">Agregar al carrito</button>            
            <script src="JavaScript/script.js" type="module"></script> 
          
          </div>
        </div>

        <!-- Producto 3 -->
        <div class="product-card">
          <img src="./img/producto3.jpg" alt="Producto 3 - Carnes">
          <div class="product-info">
            <h2>Producto 3 - [Nombre del Producto]</h2>
            <p>Descripción breve del producto 3...</p>
            <p class="price">$5.25</p>

            <button class="add-to-cart-btn" id="btnConfeti" data-producto-id="3">Agregar al carrito</button>            
            <script src="JavaScript/script.js" type="module"></script>           

          </div>
        </div>

        <!-- Producto 4 -->
        <div class="product-card">
          <img src="./img/producto4.jpg" alt="Producto 4 - limpieza">
          <div class="product-info">
            <h2>Producto 4 - [Nombre del Producto]</h2>
            <p>Descripción breve del producto 4...</p>
            <p class="price">$6.00</p>
            
            <button class="add-to-cart-btn" id="btnConfeti" data-producto-id="4">Agregar al carrito</button>            
            <script src="JavaScript/script.js" type="module"></script> 
          
          </div>
        </div>

      </div>

    </main>

    <footer>
      <div class="container footer-container">
        <p>&copy; 2023 KioskPay. Todos los derechos reservados.</p>
      </div>
    </footer>

    <script>
      // Accion abrir la ventana modal
      var modal = document.getElementById('shoppingCartModal');
      var btns = document.querySelectorAll('.add-to-cart-btn');
      btns.forEach(btn => {
        btn.onclick = function() {
          modal.style.display = "block";
        }
      });
      // Accion cerrar la ventana modal
      var span = document.getElementsByClassName("close")[0];
      span.onclick = function() {
        modal.style.display = "none";
        reiniciarDatos(); // Llama a la función para reiniciar los datos
      }
      // Función para reiniciar los datos del carrito y el formulario
      function reiniciarDatos() {
        // Reiniciar el formulario de facturación
        document.getElementById('billingForm').reset();

        // Reiniciar los datos del carrito (puedes ajustar según tu lógica de carrito)
        document.getElementById('itemName').textContent = "Nombre del Artículo";
        document.getElementById('itemDescription').textContent = "Descripción";
        document.getElementById('itemPrice').textContent = "$0.00";
        document.getElementById('discountAmount').textContent = "$0.00";
        document.getElementById('totalPrice').textContent = "$0.00";
        document.getElementById('totalPriceDisplay').textContent = "PRECIO FINAL: $0.00";
        
        // Reiniciar la cantidad seleccionada en el carrito
        var cantidadInputs = document.querySelectorAll('#cartTable input[type=number]');
        cantidadInputs.forEach(input => {
          input.value = 1; // Establecer la cantidad predeterminada, asumiendo que es 1
        });

        // Reiniciar el código promocional
        var promoCodeInput = document.querySelector('.promo-code input');
        promoCodeInput.value = '';

        // Asegurarse de actualizar el precio total después de reiniciar los valores
        actualizarPrecioTotal();
      }
      // Función para cambiar entre pestañas
      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
      }
          
      
      var productos = [
        {
          id: 1,
          nombre: "Producto 1 - Cereal",
          descripcion: "Descripción breve del producto...",
          precio: 4.99
        },

        {
          id: 2,
          nombre: "Producto 2 - Bebida",
          descripcion: "Descripción breve del producto...",
          precio: 3.50
        },

        {
          id: 3,
          nombre: "Producto 3 - Carnes",
          descripcion: "Descripción breve del producto...",
          precio: 5.25
        },

        {
          id: 4,
          nombre: "Producto 4 - limpieza",
          descripcion: "Descripción breve del producto...",
          precio: 6.00
        },
        
      ];

      // Función para actualizar el precio total de un producto
      function actualizarPrecioTotal() {
        var cantidad = document.querySelector('#cartTable input[type=number]').value;
        var precioUnitario = parseFloat(document.getElementById('itemPrice').textContent.replace('$', ''));
        var precioTotalSinDescuento = cantidad * precioUnitario;
        
        // Aplicar descuento si es necesario y calcular el precio total final
        var descuento = aplicarDescuento(precioTotalSinDescuento);
        var precioTotalConDescuento = precioTotalSinDescuento - descuento;

        document.getElementById('totalPrice').textContent = '$' + precioTotalConDescuento.toFixed(2);
        document.getElementById('totalPriceDisplay').textContent = 'PRECIO FINAL: $' + precioTotalConDescuento.toFixed(2);
      }
      // Función para aplicar el descuento
      function aplicarDescuento(precioTotal) {
        var codigoPromo = document.querySelector('.promo-code input').value;
        var descuento = 0;

        if (codigoPromo === '12345') {
          descuento = precioTotal * 0.25; // 25% de descuento
        }
        if (codigoPromo === 'JuanDaCode') {
          descuento = precioTotal * 0; // 0% de descuento
        }
        if (codigoPromo === 'JuanDaCode') {
          descuento = precioTotal * 0; // 0% de descuento
        }

        document.getElementById('discountAmount').textContent = '-$' + descuento.toFixed(2);
        return descuento;
      }
      // Evento al botón de aplicar el código promocional
      document.querySelector('.apply-promo-btn').addEventListener('click', function() {
        actualizarPrecioTotal();
      });


      // Evento cantidad del producto
      document.querySelector('#cartTable input[type=number]').addEventListener('change', function() {
        actualizarPrecioTotal();
      });
      // Evento agregar el producto
      function agregarAlCarrito(idProducto) {
        var producto = productos.find(p => p.id === idProducto);
        if (producto) {
          // Asigna los valores a los campos del carrito
          document.getElementById('itemName').textContent = producto.nombre;
          document.getElementById('itemDescription').textContent = producto.descripcion;
          document.getElementById('itemPrice').textContent = "$" + producto.precio.toFixed(2);
          // Actualiza el precio total
          actualizarPrecioTotal();
          openTab(event, 'Cart');
        } 
      }
      // Eevento click de tus botones de "Agregar al carrito"
      var botonesAgregar = document.querySelectorAll('.add-to-cart-btn');
      botonesAgregar.forEach(btn => {
        btn.onclick = function() {
          var productoId = parseInt(btn.getAttribute('data-producto-id'));
          agregarAlCarrito(productoId);
          // Muestra la ventana modal del carrito
          modal.style.display = "block";
        };
      });

      document.getElementById('nextStepButton').addEventListener('click', function() {
        var nextTab = this.getAttribute('data-next-tab');
        openTab(event, nextTab);
      });

      //Mes y año de caducidad de la tarjeta ingresada
      function formatExpiryDate(input) {
        var value = input.value;
        var formattedValue = value.replace(/\D/g, '').substring(0, 4);

        // Añadir la barra inclinada después del mes
        if (formattedValue.length > 2) {
          formattedValue = formattedValue.substring(0, 2) + '/' + formattedValue.substring(2);
        }

        input.value = formattedValue;
      }

      //El formulario obliga al usuario a ingresar 16 digitos de la tarjeta y 3 para el CVV
      function validateLength(input, length) {
        if (input.value.length > length) {
        input.value = input.value.substring(0, length);
        }
      }

      // Validación y envío de datos del formulario "Direccion de Facturacion"
      document.getElementById('sendButton').addEventListener('click', function(event) {
        // Validar los campos del formulario
        if (validarFormulario()) {
          // El formulario es válido, enviar datos al servidor
          enviarDatos();
        } else {
          // El formulario no es válido, mostrar mensaje de error
          alert("Por favor, completa todos los campos del formulario.");
          event.preventDefault();
        }
      });

      // Función para validar el formulario
      function validarFormulario() {
        // Obtener todos los campos de entrada del formulario de facturación
        var campos = document.querySelectorAll('#billingForm input');

        // Revisar cada campo para asegurarse de que no esté vacío
        for (var i = 0; i < campos.length; i++) {
          if (campos[i].value.trim() === '') {
            return false; // Se encontró un campo vacío
          }
        }
        return true; // Todos los campos están llenos
      }

      // Función para enviar los datos
      function enviarDatos() {
        var billingForm = document.getElementById('billingForm');
        var formData = new FormData(billingForm);

        // Enviar datos al servidor
        fetch('/', {
          method: 'POST',
          body: formData
        }).then(response => {
          // Aquí se puede verificar la respuesta y realizar acciones adicionales si es necesario
          openTab(event, 'Payment'); // Cambiar a la pestaña Método de Pago
        }).catch(error => {
          console.error('Error:', error);
        });
      }





    </script>
    
  </body>

</html>